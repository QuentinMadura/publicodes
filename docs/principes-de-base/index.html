<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-principes-de-base" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">Principes de base | Publicodes</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://publi.codes/docs/principes-de-base"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Principes de base | Publicodes"><meta data-rh="true" name="description" content="La syntaxe de Publicodes est basée sur le langage"><meta data-rh="true" property="og:description" content="La syntaxe de Publicodes est basée sur le langage"><link data-rh="true" rel="icon" href="/img/favicon-32x32.png"><link data-rh="true" rel="canonical" href="https://publi.codes/docs/principes-de-base"><link data-rh="true" rel="alternate" href="https://publi.codes/docs/principes-de-base" hreflang="en"><link data-rh="true" rel="alternate" href="https://publi.codes/docs/principes-de-base" hreflang="x-default"><script src="plausible"></script>
<script src="https://plausible.io/js/plausible.js" data-domain="publi.codes" defer="defer"></script><link rel="stylesheet" href="/assets/css/styles.9eb11183.css">
<link rel="preload" href="/assets/js/runtime~main.62046643.js" as="script">
<link rel="preload" href="/assets/js/main.24185eff.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_oPtH" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo-publicodes.svg" alt="Publicodes logo" class="themedImage_BQGR themedImage--light_HAxW"><img src="/img/logo-publicodes.svg" alt="Publicodes logo" class="themedImage_BQGR themedImage--dark_bGx0"></div><b class="navbar__title text--truncate">Publicodes</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/principes-de-base">Documentation</a><a class="navbar__item navbar__link" href="/studio">Bac à sable</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/publicodes/publicodes" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPrP"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_ki11 colorModeToggle_Hewu"><button class="clean-btn toggleButton_MMFG toggleButtonDisabled_Uw7m" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_lgto"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_U96C"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_WqAV"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_MB5r docsWrapper_ct1J"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_iEvu" type="button"></button><div class="docPage_KLoz"><aside class="theme-doc-sidebar-container docSidebarContainer_y0RQ"><div class="sidebarViewport_EJ1r"><div class="sidebar_CUen"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_jmj1"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/docs/principes-de-base">Principes de base</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/tutoriel">Tutoriel</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Guides</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/créer-formulaire">Créer un formulaire</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/model-template">Créer un paquet de règles réutilisable</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/jeux-de-tests">Créer des tests unitaires</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/nextJS">Afficher la documentation avec NextJS</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/documentation-svelte">Afficher la documentation avec Svelte</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">API</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/mécanismes">Liste des mécanismes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/core">Core</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/react-ui">React-ui</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/api-rest">REST-API</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs/tools/">Outils</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tools/compilation">Compilation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tools/imports">Imports de règles</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tools/optim">Optimisations</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Pourquoi publicodes ?</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pourquoi-publicodes/introduction">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pourquoi-publicodes/standard-modeles-ouverts">Standards de conception des modèles publics</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_sTIZ"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_Qr34"><div class="docItemContainer_tjFy"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_T5ub" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_sfvy"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Principes de base</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_wXna theme-doc-toc-mobile tocMobile_Ojys"><button type="button" class="clean-btn tocCollapsibleButton_iI2p">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Principes de base</h1></header><p>La syntaxe de Publicodes est basée sur le langage
<a href="https://en.wikipedia.org/wiki/YAML" target="_blank" rel="noopener noreferrer">Yaml</a>.</p><p>Un fichier Publicodes contient une liste de <em>règles</em> identifiées par leur <em>nom</em> et
possédant une <em>valeur</em> :</p><div class="container_Lusa"><div class="language-json codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_D5yF"><pre tabindex="0" class="prism-code language-json codeBlock_RMoD thin-scrollbar"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#bfc7d5"><span class="token plain">prix d&#x27;un repas</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">10</span><span class="token plain"> €</span><br></span></code></pre><div class="buttonGroup_aaMX"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_z5j7" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_FoOz"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_L0B6"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><button class="button_RcQe" style="bottom:0">⚡ Tester</button></div><p>Une formule de calcul peut faire <em>référence</em> à d&#x27;autres règles.
Dans l&#x27;exemple suivant la règle <code>prix total</code> aura pour valeur 50 (= 5 <!-- -->*<!-- --> 10)</p><div class="container_Lusa"><div class="language-json codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_D5yF"><pre tabindex="0" class="prism-code language-json codeBlock_RMoD thin-scrollbar"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#bfc7d5"><span class="token plain">prix d&#x27;un repas</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">10</span><span class="token plain"> €</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">prix total</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">5</span><span class="token plain"> * prix d&#x27;un repas</span><br></span></code></pre><div class="buttonGroup_aaMX"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_z5j7" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_FoOz"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_L0B6"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><button class="button_RcQe" style="bottom:0">⚡ Tester</button></div><p>Il s&#x27;agit d&#x27;un langage déclaratif : comme dans une formule d&#x27;un tableur le <code>prix total</code> sera recalculé automatiquement si le prix d&#x27;un repas change. L&#x27;ordre de
définition des règles n&#x27;a pas d&#x27;importance.</p><h2 class="anchor anchorWithStickyNavbar_JmGV" id="unités">Unités<a href="#unités" class="hash-link" aria-label="Direct link to Unités" title="Direct link to Unités">​</a></h2><p>Pour fiabiliser les calculs et faciliter leur compréhension, on peut préciser
l&#x27;unité des valeurs littérales :</p><div class="container_Lusa"><div class="language-json codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_D5yF"><pre tabindex="0" class="prism-code language-json codeBlock_RMoD thin-scrollbar"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#bfc7d5"><span class="token plain">prix d&#x27;un repas</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">10</span><span class="token plain"> €/repas</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">nombre de repas</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">5</span><span class="token plain"> repas</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">prix total</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> nombre de repas * prix d&#x27;un repas</span><br></span></code></pre><div class="buttonGroup_aaMX"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_z5j7" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_FoOz"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_L0B6"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><button class="button_RcQe" style="bottom:0">⚡ Tester</button></div><p>Le calcul est inchangé mais on a indiqué que le &quot;prix d&#x27;un repas&quot; s&#x27;exprime en
<code>€/repas</code> et que le &quot;nombre de repas&quot; est un nombre de <code>repas</code>. L&#x27;unité du prix
total est inférée automatiquement comme étant en <code>€</code>. (<code>€/repas</code> <!-- -->*<!-- --> <code>repas</code> =
<code>€</code>)</p><p>Ce système d&#x27;unité permet de typer les formules de calcul et de rejeter
automatiquement des formules incohérentes :</p><div class="container_Lusa"><div class="language-json codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_D5yF"><pre tabindex="0" class="prism-code language-json codeBlock_RMoD thin-scrollbar"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#bfc7d5"><span class="token plain">prix d&#x27;un repas</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">10</span><span class="token plain"> €/repas</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">nombre de repas</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">5</span><span class="token plain"> repas</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">frais de réservation</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"> €/repas</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">prix total</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> nombre de repas * prix d&#x27;un repas + frais de réservation</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># Erreur</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># La formule de </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;prix total&quot;</span><span class="token plain"> est invalide.</span><br></span></code></pre><div class="buttonGroup_aaMX"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_z5j7" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_FoOz"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_L0B6"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><button class="button_RcQe" style="bottom:0">⚡ Tester</button></div><p>Dans l&#x27;exemple ci-dessus, Publicodes détecte une erreur car les termes de
l&#x27;addition ont des unités incompatibles : d&#x27;un côté on a des <code>€</code> et de l&#x27;autre
des <code>€/repas</code>.</p><p>Cette incohérence d&#x27;unité témoigne d&#x27;une erreur de logique. Ici, une manière de corriger l&#x27;erreur peut être de factoriser la variable &quot;nombre de repas&quot; dans la formule du &quot;prix total&quot;.</p><div class="container_Lusa"><div class="language-json codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_D5yF"><pre tabindex="0" class="prism-code language-json codeBlock_RMoD thin-scrollbar"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#bfc7d5"><span class="token plain">prix d&#x27;un repas</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">10</span><span class="token plain"> €/repas</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">nombre de repas</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">5</span><span class="token plain"> repas</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">frais de réservation</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"> €/repas</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">prix total</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> nombre de repas * (prix d&#x27;un repas + frais de réservation)</span><br></span></code></pre><div class="buttonGroup_aaMX"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_z5j7" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_FoOz"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_L0B6"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><button class="button_RcQe" style="bottom:0">⚡ Tester</button></div><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_uH4V"><div class="admonitionHeading_P5_N"><span class="admonitionIcon_MF44"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Attention</div><div class="admonitionContent_yySL"><p>Il ne faut pas insérer d&#x27;espace autour de la barre oblique dans
les unités, l&#x27;unité <code>€ / mois</code> doit être notée <code>€/mois</code>.</p></div></div><p>Publicodes convertit automatiquement les unités si besoin.</p><div class="container_Lusa"><div class="language-json codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_D5yF"><pre tabindex="0" class="prism-code language-json codeBlock_RMoD thin-scrollbar"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#bfc7d5"><span class="token plain">salaire</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1500</span><span class="token plain"> €/mois</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">prime faible salaire applicable</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> salaire &lt; </span><span class="token number" style="color:rgb(247, 140, 108)">20</span><span class="token plain"> k€/an</span><br></span></code></pre><div class="buttonGroup_aaMX"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_z5j7" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_FoOz"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_L0B6"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><button class="button_RcQe" style="bottom:0">⚡ Tester</button></div><div class="theme-admonition theme-admonition-info alert alert--info admonition_uH4V"><div class="admonitionHeading_P5_N"><span class="admonitionIcon_MF44"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_yySL"><p>On peut forcer la conversion des unités via le <a href="/docs/api/mécanismes#unit%C3%A9">mécanisme <code>unité</code></a>.</p></div></div><p><strong>Types de base disponibles pour la conversion :</strong></p><ul><li><code>jour</code> / <code>mois</code> / <code>an</code></li><li><code>€</code> / <code>k€</code></li><li><code>g</code> / <code>kg</code> / <code>mg</code></li></ul><h3 class="anchor anchorWithStickyNavbar_JmGV" id="pourcentage-">Pourcentage <code>%</code><a href="#pourcentage-" class="hash-link" aria-label="Direct link to pourcentage-" title="Direct link to pourcentage-">​</a></h3><p>Il est possible de spécifier un pourcentage comme unité. L&#x27;addition d&#x27;un nombre avec un pourcentage revient à ajouter le pourcentage à ce nombre. De même pour la soustraction.</p><div class="container_Lusa"><div class="language-json codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_D5yF"><pre tabindex="0" class="prism-code language-json codeBlock_RMoD thin-scrollbar"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#bfc7d5"><span class="token plain">prix TTC</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">10</span><span class="token plain">€ + </span><span class="token number" style="color:rgb(247, 140, 108)">20</span><span class="token plain">%</span><br></span></code></pre><div class="buttonGroup_aaMX"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_z5j7" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_FoOz"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_L0B6"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><button class="button_RcQe" style="bottom:0">⚡ Tester</button></div><p>Le résultat de l&#x27;addition de deux pourcentages est bien la somme des deux nombres :</p><div class="container_Lusa"><div class="language-json codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_D5yF"><pre tabindex="0" class="prism-code language-json codeBlock_RMoD thin-scrollbar"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#bfc7d5"><span class="token plain">réduction</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2.4</span><span class="token plain">% + </span><span class="token number" style="color:rgb(247, 140, 108)">5.0</span><span class="token plain">%</span><br></span></code></pre><div class="buttonGroup_aaMX"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_z5j7" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_FoOz"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_L0B6"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><button class="button_RcQe" style="bottom:0">⚡ Tester</button></div><h2 class="anchor anchorWithStickyNavbar_JmGV" id="mécanismes">Mécanismes<a href="#mécanismes" class="hash-link" aria-label="Direct link to Mécanismes" title="Direct link to Mécanismes">​</a></h2><p>Il existe une autre manière d&#x27;écrire des formules de calcul : les mécanismes. Au lieu de définir la formule sur une ligne, celle-ci prend la forme d&#x27;un objet sur plusieurs lignes.</p><p>Par exemple, la formule suivante :</p><div class="container_Lusa"><div class="language-json codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_D5yF"><pre tabindex="0" class="prism-code language-json codeBlock_RMoD thin-scrollbar"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#bfc7d5"><span class="token plain">prix total</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">5</span><span class="token plain"> repas * </span><span class="token number" style="color:rgb(247, 140, 108)">9</span><span class="token plain"> €/repas</span><br></span></code></pre><div class="buttonGroup_aaMX"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_z5j7" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_FoOz"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_L0B6"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><button class="button_RcQe" style="bottom:0">⚡ Tester</button></div><p>peut également s&#x27;écrire en utilisant le mécanisme <a href="/docs/api/mécanismes#produit"><code>produit</code></a> :</p><div class="container_Lusa"><div class="language-json codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_D5yF"><pre tabindex="0" class="prism-code language-json codeBlock_RMoD thin-scrollbar"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#bfc7d5"><span class="token plain">prix total</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  produit</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    assiette</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">9</span><span class="token plain"> €/repas</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    facteur</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">5</span><span class="token plain"> repas</span><br></span></code></pre><div class="buttonGroup_aaMX"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_z5j7" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_FoOz"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_L0B6"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><button class="button_RcQe" style="bottom:0">⚡ Tester</button></div><p>Un des avantages de cette écriture est que la syntaxe hiérarchique de Yaml permet d&#x27;imbriquer les mécanismes :</p><div class="container_Lusa"><div class="language-json codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_D5yF"><pre tabindex="0" class="prism-code language-json codeBlock_RMoD thin-scrollbar"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#bfc7d5"><span class="token plain">table</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">12</span><span class="token plain"> personnes</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">addition</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  somme</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    - </span><span class="token number" style="color:rgb(247, 140, 108)">7</span><span class="token plain"> cafés * </span><span class="token number" style="color:rgb(247, 140, 108)">1.5</span><span class="token plain"> €/cafés</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    - produit</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> # Menu unique dégressif pour les groupes</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        assiette</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> table</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        facteur</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          variations</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          - si</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> table &gt; </span><span class="token number" style="color:rgb(247, 140, 108)">10</span><span class="token plain"> personnes</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            alors</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">12</span><span class="token plain"> €/personnes</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          - sinon</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">15</span><span class="token plain"> €/personnes</span><br></span></code></pre><div class="buttonGroup_aaMX"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_z5j7" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_FoOz"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_L0B6"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><button class="button_RcQe" style="bottom:0">⚡ Tester</button></div><h3 class="anchor anchorWithStickyNavbar_JmGV" id="mécanismes-chaînés">Mécanismes chaînés<a href="#mécanismes-chaînés" class="hash-link" aria-label="Direct link to Mécanismes chaînés" title="Direct link to Mécanismes chaînés">​</a></h3><p>Certains mécanismes peuvent apparaître au même niveau d&#x27;indentation. Dans ce cas, le moteur appliquera les transformations dans un ordre préétabli.</p><div class="container_Lusa"><div class="language-json codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_D5yF"><pre tabindex="0" class="prism-code language-json codeBlock_RMoD thin-scrollbar"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#bfc7d5"><span class="token plain">nombre de repas</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">12</span><span class="token plain"> repas</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">remboursement repas</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  valeur</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> nombre de repas * </span><span class="token number" style="color:rgb(247, 140, 108)">4.21</span><span class="token plain"> €/repas</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  plafond</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">500</span><span class="token plain">€</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  abattement</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">25</span><span class="token plain">€</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  arrondi</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> oui</span><br></span></code></pre><div class="buttonGroup_aaMX"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_z5j7" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_FoOz"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_L0B6"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><button class="button_RcQe" style="bottom:0">⚡ Tester</button></div><blockquote><p><strong><a href="/docs/api/mécanismes">Voir la liste des mécanismes existants</a></strong></p></blockquote><h2 class="anchor anchorWithStickyNavbar_JmGV" id="pages-dexplications">Pages d&#x27;explications<a href="#pages-dexplications" class="hash-link" aria-label="Direct link to Pages d&#x27;explications" title="Direct link to Pages d&#x27;explications">​</a></h2><p>L&#x27;explication des règles est un des objectifs fondamentaux de Publicodes.</p><p>Chaque règle se voit générer automatiquement une page explicative
correspondante dans le front-end, contenant une information facilement digeste
mise en regard des calculs eux-mêmes.</p><p>Plusieurs propriétés sont reprises dans ces pages d&#x27;explications :</p><ul><li>le <strong>titre</strong>, qui s&#x27;affiche en haut de la page. Par défaut on utilise le nom
de la règle, mais la propriété <code>titre</code> permet de choisir un titre plus
approprié ;</li><li>la <strong>description</strong> est affichée comme paragraphe d&#x27;introduction sur la page.
On utilise le caractère <code>|</code> pour indiquer au parseur Yaml que la description est sur plusieurs lignes ;</li><li>une <strong>note</strong> de bas de page, affichée après la formule de calcul. Elle peut être sur plusieurs lignes également.</li></ul><div class="container_Lusa"><div class="language-json codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_D5yF"><pre tabindex="0" class="prism-code language-json codeBlock_RMoD thin-scrollbar"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#bfc7d5"><span class="token plain">ticket resto</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  titre</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> Prise en charge des titres-restaurants</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  formule</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">4</span><span class="token plain"> €/repas</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  description</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> |-</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    L&#x27;employeur peut remettre des titres restaurants sous plusieurs formats</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> ticket papier</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> carte à puce</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ou appli mobile</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  note</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> |-</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    La valeur a été revalorisée en </span><span class="token number" style="color:rgb(247, 140, 108)">2022</span><span class="token plain"> pour faire face à l&#x27;inflation.</span><br></span></code></pre><div class="buttonGroup_aaMX"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_z5j7" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_FoOz"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_L0B6"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><button class="button_RcQe" style="bottom:0">⚡ Tester</button></div><h2 class="anchor anchorWithStickyNavbar_JmGV" id="conditions-booléennes">Conditions booléennes<a href="#conditions-booléennes" class="hash-link" aria-label="Direct link to Conditions booléennes" title="Direct link to Conditions booléennes">​</a></h2><p>Publicodes supporte des opérateurs booléens basiques.</p><div class="container_Lusa"><div class="language-json codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_D5yF"><pre tabindex="0" class="prism-code language-json codeBlock_RMoD thin-scrollbar"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#bfc7d5"><span class="token plain">âge</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">17</span><span class="token plain"> ans</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">nationalité française</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> oui</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">citoyen européen</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">domicilié en France</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">droit de vote municipale</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  toutes ces conditions</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    - âge &gt;= </span><span class="token number" style="color:rgb(247, 140, 108)">18</span><span class="token plain"> ans</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    - une de ces conditions</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        - nationalité française</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        - toutes ces conditions</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          - citoyen européen</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          - domicilié en France</span><br></span></code></pre><div class="buttonGroup_aaMX"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_z5j7" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_FoOz"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_L0B6"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><button class="button_RcQe" style="bottom:0">⚡ Tester</button></div><p>Il est possible de faire des branchements conditionnels via le mécanisme <a href="/docs/api/mécanismes#variations"><code>variations</code></a></p><h2 class="anchor anchorWithStickyNavbar_JmGV" id="applicabilité">Applicabilité<a href="#applicabilité" class="hash-link" aria-label="Direct link to Applicabilité" title="Direct link to Applicabilité">​</a></h2><p>On peut définir des conditions d&#x27;applicabilité pour des valeurs :</p><div class="container_Lusa"><div class="language-json codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_D5yF"><pre tabindex="0" class="prism-code language-json codeBlock_RMoD thin-scrollbar"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#bfc7d5"><span class="token plain">date de début</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">12</span><span class="token plain">/</span><span class="token number" style="color:rgb(247, 140, 108)">02</span><span class="token plain">/</span><span class="token number" style="color:rgb(247, 140, 108)">2020</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">ancienneté en fin d&#x27;année</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  durée</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    depuis</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> date de début</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    jusqu&#x27;à</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">31</span><span class="token plain">/</span><span class="token number" style="color:rgb(247, 140, 108)">12</span><span class="token plain">/</span><span class="token number" style="color:rgb(247, 140, 108)">2020</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">prime de vacances</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  applicable si</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> ancienneté en fin d&#x27;année &gt; </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"> an</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  valeur</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">200</span><span class="token plain">€</span><br></span></code></pre><div class="buttonGroup_aaMX"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_z5j7" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_FoOz"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_L0B6"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><button class="button_RcQe" style="bottom:0">⚡ Tester</button></div><p>Ici, si l&#x27;ancienneté est inférieure à un an, alors la prime de vacances sera
<em>non applicable</em>.</p><p>Les variables <em>non applicable</em> sont prise en compte différement au niveau des mécanismes numériques.
Par exemple le mécanisme <code>somme</code> comptera une prime non applicable comme valant zéro. Un plafond <em>non applicable</em> n&#x27;aura pas d&#x27;incidence sur la valeur retournée (même chose pour un abattement ou un plancher par exemple).</p><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_uH4V"><div class="admonitionHeading_P5_N"><span class="admonitionIcon_MF44"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span><mdxadmonitiontitle>La valeur <code>non</code> est applicable</mdxadmonitiontitle></div><div class="admonitionContent_yySL"><p>Publicodes différencie désormais la valeur booléenne <code>non</code> d&#x27;une valeur <em>non applicable</em>. Cela permet par exemple de cacher les questions non applicable <a href="/docs/guides/créer-formulaire">dans un formulaire</a> tout en affichant les questions dont la réponse est <code>non</code>.</p></div></div><h3 class="anchor anchorWithStickyNavbar_JmGV" id="tester-lapplicabilité">Tester l&#x27;applicabilité<a href="#tester-lapplicabilité" class="hash-link" aria-label="Direct link to Tester l&#x27;applicabilité" title="Direct link to Tester l&#x27;applicabilité">​</a></h3><p>On peut tester si une variable est applicable ou non applicable avec les mécanismes <code>est applicable</code> et <code>est non applicable</code>.</p><h3 class="anchor anchorWithStickyNavbar_JmGV" id="rend-non-applicable">Rend non applicable<a href="#rend-non-applicable" class="hash-link" aria-label="Direct link to Rend non applicable" title="Direct link to Rend non applicable">​</a></h3><p>Il est également possible de rendre une règle non applicable depuis une autre règle :</p><div class="container_Lusa"><div class="language-json codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_D5yF"><pre tabindex="0" class="prism-code language-json codeBlock_RMoD thin-scrollbar"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#bfc7d5"><span class="token plain">nouveau salarié</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  valeur</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> oui</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  rend non applicable</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> prime de vacances</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">prime de vacances</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">200</span><span class="token plain">€</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">primes</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  somme</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    - prime de vacances</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    - </span><span class="token number" style="color:rgb(247, 140, 108)">150</span><span class="token plain">€</span><br></span></code></pre><div class="buttonGroup_aaMX"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_z5j7" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_FoOz"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_L0B6"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><button class="button_RcQe" style="bottom:0">⚡ Tester</button></div><div class="theme-admonition theme-admonition-info alert alert--info admonition_uH4V"><div class="admonitionHeading_P5_N"><span class="admonitionIcon_MF44"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Note</div><div class="admonitionContent_yySL"><p>La syntaxe <code>rend non applicable</code> fonctionne de la même manière que le remplacement : elle rend non applicable toutes les références à la règle choisie.</p><p><strong><a href="/docs/principes-de-base#remplacement">En savoir plus sur le remplacement</a></strong></p></div></div><h2 class="anchor anchorWithStickyNavbar_JmGV" id="espaces-de-noms">Espaces de noms<a href="#espaces-de-noms" class="hash-link" aria-label="Direct link to Espaces de noms" title="Direct link to Espaces de noms">​</a></h2><p>Les espaces de noms sont utiles pour organiser un grand nombre de règles. On
utilise le <code>.</code> pour exprimer la hiérarchie des noms.</p><div class="container_Lusa"><div class="language-json codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_D5yF"><pre tabindex="0" class="prism-code language-json codeBlock_RMoD thin-scrollbar"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#bfc7d5"><span class="token plain">prime de vacances</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> taux * </span><span class="token number" style="color:rgb(247, 140, 108)">1000</span><span class="token plain"> €</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">prime de vacances . taux</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">6</span><span class="token plain">%</span><br></span></code></pre><div class="buttonGroup_aaMX"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_z5j7" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_FoOz"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_L0B6"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><button class="button_RcQe" style="bottom:0">⚡ Tester</button></div><p>Ici, <code>prime de vacances</code> est à la fois une règle et un espace de noms. La variable
<code>taux</code> est définie dans cet espace de noms et c&#x27;est elle qui est référencée dans
la formule de calcul de la règle <code>prime de vacances</code>.</p><p>La règle <code>prime de vacances</code> est elle-même définie dans l&#x27;espace de nom racine.</p><p>On pourrait avoir une autre variable <code>taux</code> dans un espace de nom
différent, sans que cela entre en conflit :</p><div class="container_Lusa"><div class="language-json codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_D5yF"><pre tabindex="0" class="prism-code language-json codeBlock_RMoD thin-scrollbar"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#bfc7d5"><span class="token plain">prime de vacances</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> taux * </span><span class="token number" style="color:rgb(247, 140, 108)">1000</span><span class="token plain"> €</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">prime de vacances . taux</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">6</span><span class="token plain">%</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># Ceci n&#x27;entre pas dans le calcul de `prime de vacances` définie plus haut</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">autre prime</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">autre prime . taux</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">19</span><span class="token plain">%</span><br></span></code></pre><div class="buttonGroup_aaMX"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_z5j7" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_FoOz"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_L0B6"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><button class="button_RcQe" style="bottom:0">⚡ Tester</button></div><p>On dit que la règle <code>prime de vacances</code> fait référence à la
règle <code>prime de vacances . taux</code> via le nom raccourci <code>taux</code>.</p><p>Pour faire référence à une règle hors de son espace de nom, on peut écrire le
nom complet de cette règle:</p><div class="container_Lusa"><div class="language-json codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_D5yF"><pre tabindex="0" class="prism-code language-json codeBlock_RMoD thin-scrollbar"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#bfc7d5"><span class="token plain">autre prime</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">autre prime . taux</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">19</span><span class="token plain">%</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">prime de vacances v2</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> autre prime . taux * </span><span class="token number" style="color:rgb(247, 140, 108)">1000</span><span class="token plain"> €</span><br></span></code></pre><div class="buttonGroup_aaMX"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_z5j7" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_FoOz"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_L0B6"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><button class="button_RcQe" style="bottom:0">⚡ Tester</button></div><p>Dans le cas d&#x27;espaces de noms imbriqués (à plus qu&#x27;un étage), le nom inscrit
dans une règle donnée est recherché de plus en plus haut dans la hiérarchie des
espaces de nom jusqu&#x27;à la racine.</p><div class="container_Lusa"><div class="language-json codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_D5yF"><pre tabindex="0" class="prism-code language-json codeBlock_RMoD thin-scrollbar"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#bfc7d5"><span class="token plain">contrat salarié</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">contrat salarié . rémunération</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">contrat salarié . rémunération . primes</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">contrat salarié . rémunération . primes . prime de vacances</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  valeur</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> taux générique * </span><span class="token number" style="color:rgb(247, 140, 108)">1000</span><span class="token plain"> €</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">contrat salarié . rémunération . taux générique</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  valeur</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">10</span><span class="token plain">%</span><br></span></code></pre><div class="buttonGroup_aaMX"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_z5j7" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_FoOz"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_L0B6"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><button class="button_RcQe" style="bottom:0">⚡ Tester</button></div><p>Ici <code>contrat salarié . rémunération . primes . prime de vacances</code> va faire
référence à <code>contrat salarié . rémunération . taux générique</code> trouvé deux
espaces de noms plus haut, et va donc valoir <code>100 €</code>.</p><h3 class="anchor anchorWithStickyNavbar_JmGV" id="désactivation-de-branche">Désactivation de branche<a href="#désactivation-de-branche" class="hash-link" aria-label="Direct link to Désactivation de branche" title="Direct link to Désactivation de branche">​</a></h3><p>Il est possible de désactiver l&#x27;ensemble des règles définies dans un espace de nom.</p><p>Toutes les règles possèdent une dépendance implicite à leur parent. Si ce dernier vaut à <em>non</em> ou est <em>non applicable</em> alors toutes les règles enfants seront <em>non applicables</em></p><div class="container_Lusa"><div class="language-json codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_D5yF"><pre tabindex="0" class="prism-code language-json codeBlock_RMoD thin-scrollbar"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#bfc7d5"><span class="token plain">CDD</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> non</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CDD . indemnité de précarité</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">10</span><span class="token plain">% * </span><span class="token number" style="color:rgb(247, 140, 108)">1500</span><span class="token plain">€/mois * </span><span class="token number" style="color:rgb(247, 140, 108)">6</span><span class="token plain"> mois</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">indemnités</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  somme</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    - </span><span class="token number" style="color:rgb(247, 140, 108)">100</span><span class="token plain"> €</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    - CDD . indemnité de précarité</span><br></span></code></pre><div class="buttonGroup_aaMX"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_z5j7" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_FoOz"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_L0B6"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><button class="button_RcQe" style="bottom:0">⚡ Tester</button></div><div class="container_Lusa"><div class="language-json codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_D5yF"><pre tabindex="0" class="prism-code language-json codeBlock_RMoD thin-scrollbar"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#bfc7d5"><span class="token plain">région</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> &#x27;</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Centre&quot;</span><span class="token plain">&#x27;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">aides occitanie</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  applicable si</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> région = &#x27;Occitanie&#x27;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">aides occitanie . subvention vélo </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">500</span><span class="token plain"> €</span><br></span></code></pre><div class="buttonGroup_aaMX"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_z5j7" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_FoOz"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_L0B6"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><button class="button_RcQe" style="bottom:0">⚡ Tester</button></div><h2 class="anchor anchorWithStickyNavbar_JmGV" id="remplacement">Remplacement<a href="#remplacement" class="hash-link" aria-label="Direct link to Remplacement" title="Direct link to Remplacement">​</a></h2><p>Certaines règles ne s&#x27;appliquent parfois que dans quelques situations
particulières et modifier la définition des règles générales pour prendre en
compte ces particularités pose des problèmes de maintenabilité de la base de
règles.</p><p>Publicodes dispose d&#x27;un mécanisme de remplacement qui permet d&#x27;amender n&#x27;importe
quelle règle existante sans avoir besoin de la modifier :</p><div class="container_Lusa"><div class="language-json codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_D5yF"><pre tabindex="0" class="prism-code language-json codeBlock_RMoD thin-scrollbar"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#bfc7d5"><span class="token plain">frais de repas</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">5</span><span class="token plain"> €/repas</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">convention hôtels cafés restaurants</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> oui</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">convention hôtels cafés restaurants . frais de repas restaurateur</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  remplace</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> frais de repas</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  valeur</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">6</span><span class="token plain"> €/repas</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">montant repas mensuels</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">20</span><span class="token plain"> repas * frais de repas</span><br></span></code></pre><div class="buttonGroup_aaMX"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_z5j7" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_FoOz"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_L0B6"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><button class="button_RcQe" style="bottom:0">⚡ Tester</button></div><p>On peut également choisir de remplacer dans un contexte donné :</p><div class="container_Lusa"><div class="language-json codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_D5yF"><pre tabindex="0" class="prism-code language-json codeBlock_RMoD thin-scrollbar"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#bfc7d5"><span class="token plain">temps de préparation</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">20</span><span class="token plain"> min</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">temps de cuisson</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">20</span><span class="token plain"> min</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">robot de cuisine</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  remplace</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    - règle</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> temps de préparation</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      sauf dans</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> temps original</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      par</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">10</span><span class="token plain"> min</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  valeur</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> oui</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">temps original</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  formule</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> temps de préparation + temps de cuisson</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">temps modifié</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  formule</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> temps de préparation + temps de cuisson</span><br></span></code></pre><div class="buttonGroup_aaMX"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_z5j7" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_FoOz"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_L0B6"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><button class="button_RcQe" style="bottom:0">⚡ Tester</button></div><div class="theme-admonition theme-admonition-info alert alert--info admonition_uH4V"><div class="admonitionHeading_P5_N"><span class="admonitionIcon_MF44"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Note</div><div class="admonitionContent_yySL"><p>Les remplacement sont implémentés sous forme d&#x27;une substitution de variable. Quand une règle en remplace une autre, c&#x27;est toutes les références à la règle remplacée qui vont être changées par la valeur de remplacement.</p></div></div><h2 class="anchor anchorWithStickyNavbar_JmGV" id="règle-imbriquées">Règle imbriquées<a href="#règle-imbriquées" class="hash-link" aria-label="Direct link to Règle imbriquées" title="Direct link to Règle imbriquées">​</a></h2><h3 class="anchor anchorWithStickyNavbar_JmGV" id="a-lintérieur-des-mécanismes--nom">A l&#x27;intérieur des mécanismes : <code>nom</code><a href="#a-lintérieur-des-mécanismes--nom" class="hash-link" aria-label="Direct link to a-lintérieur-des-mécanismes--nom" title="Direct link to a-lintérieur-des-mécanismes--nom">​</a></h3><p>Si le mécanisme de remplacement permet de faire des substitutions de règles
complètes, il est parfois utile de ne modifier qu&#x27;un seul paramètre d&#x27;une règle
existante, par exemple modifier le facteur d&#x27;une multiplication tout en
conservant le reste de sa définition inchangée.</p><p>Une première manière de faire consiste à extraire le paramètre en question dans
une règle indépendante, le rendant ainsi accessible et modifiable depuis
l&#x27;extérieur :</p><div class="container_Lusa"><div class="language-json codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_D5yF"><pre tabindex="0" class="prism-code language-json codeBlock_RMoD thin-scrollbar"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#bfc7d5"><span class="token plain">prime</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  multiplication</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    assiette</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1000</span><span class="token plain">€</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    taux</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> taux</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">prime . taux</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">5</span><span class="token plain">%</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">super-prime</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  remplace</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> prime . taux</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  valeur</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">10</span><span class="token plain">%</span><br></span></code></pre><div class="buttonGroup_aaMX"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_z5j7" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_FoOz"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_L0B6"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><button class="button_RcQe" style="bottom:0">⚡ Tester</button></div><p>Ce code fonctionne mais il nous oblige a créer une règle <code>prime . taux</code> qui
n&#x27;est pas pertinente en tant qu&#x27;entité autonome, uniquement pour pouvoir la modifier avec un <code>remplace</code>.</p><p>On a aussi introduit une indirection dans la définition de la prime en remplaçant
une ligne explicite <code>taux: 5%</code> par une référence vers une règle tierce
<code>taux: taux</code>, qui est loin d&#x27;être aussi claire.</p><p>Pour ce cas d&#x27;usage il est possible de définir une <em>règle imbriquée</em>.
On garde la définition de la prime inchangée et on annote la valeur à laquelle
on veut accéder depuis l&#x27;extérieur avec le mot clé <code>nom</code> :</p><div class="container_Lusa"><div class="language-json codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_D5yF"><pre tabindex="0" class="prism-code language-json codeBlock_RMoD thin-scrollbar"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#bfc7d5"><span class="token plain">prime</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  multiplication</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    assiette</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1000</span><span class="token plain">€</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    taux</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      nom</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> taux</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      valeur</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">5</span><span class="token plain">%</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">super-prime</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  remplace</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> prime . taux</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  valeur</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">10</span><span class="token plain">%</span><br></span></code></pre><div class="buttonGroup_aaMX"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_z5j7" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_FoOz"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_L0B6"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><button class="button_RcQe" style="bottom:0">⚡ Tester</button></div><h3 class="anchor anchorWithStickyNavbar_JmGV" id="directement-sur-la-règle--avec">Directement sur la règle : <code>avec</code><a href="#directement-sur-la-règle--avec" class="hash-link" aria-label="Direct link to directement-sur-la-règle--avec" title="Direct link to directement-sur-la-règle--avec">​</a></h3><div class="container_Lusa"><div class="language-json codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_D5yF"><pre tabindex="0" class="prism-code language-json codeBlock_RMoD thin-scrollbar"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#bfc7d5"><span class="token plain">prix final</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   valeur</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">157</span><span class="token plain"> € * (</span><span class="token number" style="color:rgb(247, 140, 108)">100</span><span class="token plain">% - </span><span class="token number" style="color:rgb(247, 140, 108)">20</span><span class="token plain">%)</span><br></span></code></pre><div class="buttonGroup_aaMX"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_z5j7" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_FoOz"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_L0B6"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><button class="button_RcQe" style="bottom:0">⚡ Tester</button></div><p>Dans cet exemple, si l&#x27;on veut extraire le prix et la promotion dans des variables séparées, on est obligé de les définir à côté de la règle <code>prix final</code> :</p><div class="container_Lusa"><div class="language-json codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_D5yF"><pre tabindex="0" class="prism-code language-json codeBlock_RMoD thin-scrollbar"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#bfc7d5"><span class="token plain">prix final</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   valeur</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> prix de base * (</span><span class="token number" style="color:rgb(247, 140, 108)">100</span><span class="token plain">% - promotion)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">prix final . prix de base</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">157</span><span class="token plain">€</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">prix final . promotion</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">20</span><span class="token plain">%</span><br></span></code></pre><div class="buttonGroup_aaMX"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_z5j7" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_FoOz"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_L0B6"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><button class="button_RcQe" style="bottom:0">⚡ Tester</button></div><p>Pour alléger cette écriture, on peut utiliser la notation <code>avec</code> qui permet de définir des règles imbriquées directement depuis une règle parente :</p><div class="container_Lusa"><div class="language-json codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_D5yF"><pre tabindex="0" class="prism-code language-json codeBlock_RMoD thin-scrollbar"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#bfc7d5"><span class="token plain">prix final</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   valeur</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> prix de base * (</span><span class="token number" style="color:rgb(247, 140, 108)">100</span><span class="token plain">% - réduction)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   avec</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">     prix de base</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">157</span><span class="token plain"> €</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">     réduction</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">20</span><span class="token plain">%</span><br></span></code></pre><div class="buttonGroup_aaMX"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_z5j7" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_FoOz"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_L0B6"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><button class="button_RcQe" style="bottom:0">⚡ Tester</button></div><div class="theme-admonition theme-admonition-info alert alert--info admonition_uH4V"><div class="admonitionHeading_P5_N"><span class="admonitionIcon_MF44"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_yySL"><p>On peut tout à fait combiner les deux écritures <code>nom</code> et <code>avec</code> :</p><div class="container_Lusa"><div class="language-json codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_D5yF"><pre tabindex="0" class="prism-code language-json codeBlock_RMoD thin-scrollbar"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#bfc7d5"><span class="token plain">cotisation</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  produit</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    assiette</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> assiette</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    taux</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2.8</span><span class="token plain">%</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  plafond</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    nom</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> plafond</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    le minimum de</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      - </span><span class="token number" style="color:rgb(247, 140, 108)">50</span><span class="token plain"> % * PFSS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      - plafond forfaitaire</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    avec</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      plafond forfaitaire</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2000</span><span class="token plain"> €</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">PFSS</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3400</span><span class="token plain"> €</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">assiette</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2000</span><span class="token plain"> €</span><br></span></code></pre><div class="buttonGroup_aaMX"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_z5j7" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_FoOz"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_L0B6"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><button class="button_RcQe" style="bottom:0">⚡ Tester</button></div></div></div><h2 class="anchor anchorWithStickyNavbar_JmGV" id="règles-non-définie">Règles non définie<a href="#règles-non-définie" class="hash-link" aria-label="Direct link to Règles non définie" title="Direct link to Règles non définie">​</a></h2><p>Il est possible de laisser certaines règles vide pour être saisie par l&#x27;utilisateur par exemple.
Lors de l&#x27;évaluation, les variables dont les valeurs ne sont pas renseignées sont remontées.</p><div class="container_Lusa"><div class="language-json codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_D5yF"><pre tabindex="0" class="prism-code language-json codeBlock_RMoD thin-scrollbar"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#bfc7d5"><span class="token plain">salaire brut</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  unité</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> €/mois</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">salaire net</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> salaire brut - </span><span class="token number" style="color:rgb(247, 140, 108)">20</span><span class="token plain"> %</span><br></span></code></pre><div class="buttonGroup_aaMX"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_z5j7" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_FoOz"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_L0B6"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><button class="button_RcQe" style="bottom:0">⚡ Tester</button></div><p>Il est possible de donner une valeur par défaut. Les variables manquantes seront quand même remontées, et le moteur utilisera la valeur par défaut pour le calcul.</p><div class="container_Lusa"><div class="language-json codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_D5yF"><pre tabindex="0" class="prism-code language-json codeBlock_RMoD thin-scrollbar"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#bfc7d5"><span class="token plain">durée</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  par défaut</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token plain"> mois</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">salaire brut</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  par défaut</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1500</span><span class="token plain"> €/mois</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">indemnité de CDD</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">10</span><span class="token plain"> % * salaire brut * durée</span><br></span></code></pre><div class="buttonGroup_aaMX"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_z5j7" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_FoOz"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_L0B6"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><button class="button_RcQe" style="bottom:0">⚡ Tester</button></div><h2 class="anchor anchorWithStickyNavbar_JmGV" id="règles-privées">Règles privées<a href="#règles-privées" class="hash-link" aria-label="Direct link to Règles privées" title="Direct link to Règles privées">​</a></h2><p>Par défaut, les règles publicodes sont accessibles partout, tout le temps, que
ce soit depuis une autre règle ou lors de l&#x27;évaluation.</p><p>Si on ne souhaite pas exposer certaines règles internes, il est possible de les marquer comme <code>privée</code> :</p><ul><li>soit en ajoutant un attribut <code>privé: oui</code> dans le corps de la règle</li><li>soit en préfixant le nom de la règle par : <code>[privé]</code></li></ul><p>Les règles privées permettent d&#x27;encapsuler des calculs intermédiaires. Elles sont utiles si
vous exposez votre base de règles à des utilisateurs tiers (via un paquet npm ou l&#x27;API REST) car elles
permettent d&#x27;améliorer la maintenabilité sans sacrifier la lisibilité de la base de règle.</p><div class="container_Lusa"><div class="language-json codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_D5yF"><pre tabindex="0" class="prism-code language-json codeBlock_RMoD thin-scrollbar"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#bfc7d5"><span class="token plain">assiette</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2100</span><span class="token plain"> €</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">PFSS</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">4510</span><span class="token plain"> €</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">cotisation</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  produit</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    assiette</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> assiette</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    taux</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2.8</span><span class="token plain">%</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  plafond</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    le minimum de</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      - </span><span class="token number" style="color:rgb(247, 140, 108)">50</span><span class="token plain"> % * PFSS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      - plafond forfaitaire</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  avec</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">privé</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> plafond forfaitaire</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2000</span><span class="token plain"> €&#x27;</span><br></span></code></pre><div class="buttonGroup_aaMX"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_z5j7" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_FoOz"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_L0B6"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><button class="button_RcQe" style="bottom:0">⚡ Tester</button></div><h3 class="anchor anchorWithStickyNavbar_JmGV" id="comportement-des-règles-privées">Comportement des règles privées<a href="#comportement-des-règles-privées" class="hash-link" aria-label="Direct link to Comportement des règles privées" title="Direct link to Comportement des règles privées">​</a></h3><ul><li>Les règles privées peuvent être référencées depuis toutes les règles située dans l&#x27;espace de nom parent direct. Par exemple, si la règle a . b est privée, elle peut être référencée depuis a . b . c, a . x, a, mais pas d ou d . c.</li><li>Les règles privées ne possèdent pas de page de documentation dédiées</li><li>L&#x27;appel de getRule sur une règle privée jette une erreur</li><li>Elles ne sont pas listées dans <code>getParsedRules</code></li><li>On ne peut pas évaluer une référence à une règle privée</li><li>On ne peut pas modifier une règles privée via la situation</li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/betagouv/publicodes/edit/master/website/docs/principes-de-base.mdx" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_bHB7" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_pbO5"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--next" href="/docs/tutoriel"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Tutoriel</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_XG6w thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#unités" class="table-of-contents__link toc-highlight">Unités</a><ul><li><a href="#pourcentage-" class="table-of-contents__link toc-highlight">Pourcentage <code>%</code></a></li></ul></li><li><a href="#mécanismes" class="table-of-contents__link toc-highlight">Mécanismes</a><ul><li><a href="#mécanismes-chaînés" class="table-of-contents__link toc-highlight">Mécanismes chaînés</a></li></ul></li><li><a href="#pages-dexplications" class="table-of-contents__link toc-highlight">Pages d&#39;explications</a></li><li><a href="#conditions-booléennes" class="table-of-contents__link toc-highlight">Conditions booléennes</a></li><li><a href="#applicabilité" class="table-of-contents__link toc-highlight">Applicabilité</a><ul><li><a href="#tester-lapplicabilité" class="table-of-contents__link toc-highlight">Tester l&#39;applicabilité</a></li><li><a href="#rend-non-applicable" class="table-of-contents__link toc-highlight">Rend non applicable</a></li></ul></li><li><a href="#espaces-de-noms" class="table-of-contents__link toc-highlight">Espaces de noms</a><ul><li><a href="#désactivation-de-branche" class="table-of-contents__link toc-highlight">Désactivation de branche</a></li></ul></li><li><a href="#remplacement" class="table-of-contents__link toc-highlight">Remplacement</a></li><li><a href="#règle-imbriquées" class="table-of-contents__link toc-highlight">Règle imbriquées</a><ul><li><a href="#a-lintérieur-des-mécanismes--nom" class="table-of-contents__link toc-highlight">A l&#39;intérieur des mécanismes : <code>nom</code></a></li><li><a href="#directement-sur-la-règle--avec" class="table-of-contents__link toc-highlight">Directement sur la règle : <code>avec</code></a></li></ul></li><li><a href="#règles-non-définie" class="table-of-contents__link toc-highlight">Règles non définie</a></li><li><a href="#règles-privées" class="table-of-contents__link toc-highlight">Règles privées</a><ul><li><a href="#comportement-des-règles-privées" class="table-of-contents__link toc-highlight">Comportement des règles privées</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">À propos</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/statistiques">Statistiques de consultation</a></li></ul></div></div></div></footer></div>
<script src="/assets/js/runtime~main.62046643.js"></script>
<script src="/assets/js/main.24185eff.js"></script>
</body>
</html>