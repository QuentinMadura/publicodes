<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-pourquoi-publicodes/standard-modeles-ouverts" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">Standards de conception des modèles publics | Publicodes</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://publi.codes/docs/pourquoi-publicodes/standard-modeles-ouverts"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Standards de conception des modèles publics | Publicodes"><meta data-rh="true" name="description" content="Un modèle de calcul est un programme, qui prend des données en entrée (par exemple le gabarit d&#x27;une voiture et son type de moteur), et permet de calculer de nouvelles valeurs sur cette base (par exemple, son empreinte climat en gCO2e/km)."><meta data-rh="true" property="og:description" content="Un modèle de calcul est un programme, qui prend des données en entrée (par exemple le gabarit d&#x27;une voiture et son type de moteur), et permet de calculer de nouvelles valeurs sur cette base (par exemple, son empreinte climat en gCO2e/km)."><link data-rh="true" rel="icon" href="/img/favicon-32x32.png"><link data-rh="true" rel="canonical" href="https://publi.codes/docs/pourquoi-publicodes/standard-modeles-ouverts"><link data-rh="true" rel="alternate" href="https://publi.codes/docs/pourquoi-publicodes/standard-modeles-ouverts" hreflang="en"><link data-rh="true" rel="alternate" href="https://publi.codes/docs/pourquoi-publicodes/standard-modeles-ouverts" hreflang="x-default"><script src="plausible"></script>
<script src="https://plausible.io/js/plausible.js" data-domain="publi.codes" defer="defer"></script><link rel="stylesheet" href="/assets/css/styles.9eb11183.css">
<link rel="preload" href="/assets/js/runtime~main.62046643.js" as="script">
<link rel="preload" href="/assets/js/main.24185eff.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_oPtH" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo-publicodes.svg" alt="Publicodes logo" class="themedImage_BQGR themedImage--light_HAxW"><img src="/img/logo-publicodes.svg" alt="Publicodes logo" class="themedImage_BQGR themedImage--dark_bGx0"></div><b class="navbar__title text--truncate">Publicodes</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/principes-de-base">Documentation</a><a class="navbar__item navbar__link" href="/studio">Bac à sable</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/publicodes/publicodes" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPrP"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_ki11 colorModeToggle_Hewu"><button class="clean-btn toggleButton_MMFG toggleButtonDisabled_Uw7m" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_lgto"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_U96C"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_WqAV"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_MB5r docsWrapper_ct1J"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_iEvu" type="button"></button><div class="docPage_KLoz"><aside class="theme-doc-sidebar-container docSidebarContainer_y0RQ"><div class="sidebarViewport_EJ1r"><div class="sidebar_CUen"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_jmj1"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/principes-de-base">Principes de base</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/tutoriel">Tutoriel</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Guides</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/créer-formulaire">Créer un formulaire</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/model-template">Créer un paquet de règles réutilisable</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/jeux-de-tests">Créer des tests unitaires</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/nextJS">Afficher la documentation avec NextJS</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/documentation-svelte">Afficher la documentation avec Svelte</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">API</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/mécanismes">Liste des mécanismes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/core">Core</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/react-ui">React-ui</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/api-rest">REST-API</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs/tools/">Outils</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tools/compilation">Compilation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tools/imports">Imports de règles</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tools/optim">Optimisations</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active">Pourquoi publicodes ?</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pourquoi-publicodes/introduction">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/pourquoi-publicodes/standard-modeles-ouverts">Standards de conception des modèles publics</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_sTIZ"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_Qr34"><div class="docItemContainer_tjFy"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_T5ub" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_sfvy"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Pourquoi publicodes ?</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Standards de conception des modèles publics</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_wXna theme-doc-toc-mobile tocMobile_Ojys"><button type="button" class="clean-btn tocCollapsibleButton_iI2p">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Standards de conception des modèles de calcul publics</h1><p>Un modèle de calcul est un programme, qui prend des données en entrée (par exemple le gabarit d&#x27;une voiture et son type de moteur), et permet de calculer de nouvelles valeurs sur cette base (par exemple, son empreinte climat en gCO2e/km).</p><p>Aujourd&#x27;hui, les équipes de <a href="https://beta.gouv.fr/" target="_blank" rel="noopener noreferrer">Betagouv</a> développent de nombreux modèles de calcul, dont voici une liste non exhaustive :</p><ul><li><a href="https://github.com/datagir/nosgestesclimat" target="_blank" rel="noopener noreferrer">datagir/nosgestesclimat</a></li><li><a href="https://github.com/datagir/aldo" target="_blank" rel="noopener noreferrer">datagir/aldo</a></li><li><a href="https://github.com/MTES-MCT/ecobalyse" target="_blank" rel="noopener noreferrer">MTES-MCT/ecobalyse</a></li><li><a href="https://github.com/betagouv/mon-entreprise" target="_blank" rel="noopener noreferrer">betagouv/mon-entreprise</a></li><li><a href="https://github.com/betagouv/aides-jeunes" target="_blank" rel="noopener noreferrer">betagouv/aides-jeunes</a></li></ul><p>L&#x27;idée ici est de présenter les prérequis pour que l&#x27;administration fasse sa révolution, service par service, pour proposer des modèles de calcul modernes qui fassent référence, fiables et qui profitent un maximum aux autres acteurs.</p><p>La plateforme publi.codes, utilisée par plusieurs startups d&#x27;État, est construite pour répondre à ces problématiques, mais n&#x27;est évidemment pas la seule solution pour un problème aussi vaste !</p><p>Cette liste n&#x27;est pas exhaustive, c&#x27;est davantage un document de travail.</p><blockquote><p>Le sujet de l&#x27;estimation des marges d&#x27;erreur, et des sujets spécifiques comme l&#x27;estimation de la sensibilité des modèles, ne sont pas abordés car plus spécfiques (notamment mais pas limités aux Analyses de cycle de vie) et secondaires par rapport à ces principes de base, mais pourtant très importants.</p></blockquote><h2 class="anchor anchorWithStickyNavbar_JmGV" id="open-source">Open source<a href="#open-source" class="hash-link" aria-label="Direct link to Open source" title="Direct link to Open source">​</a></h2><p>Publier le code de nos modèles est une <a href="https://guides.etalab.gouv.fr/algorithmes/guide/" target="_blank" rel="noopener noreferrer">obligation légale</a> portée par la loi République Numérique.</p><p>Le versionage du code est essentiel. Pour le faire, le standard c&#x27;est Github, ou Gitlab.</p><blockquote><p>Même si Github est un outil privé Microsoft, l&#x27;avantage c&#x27;est que la migration vers un des équivalents open source, comme Gitlab, pour plus de souveraineté, est immédiate, et que les membres de l&#x27;équipe ont par construction du protocole les donnée.</p></blockquote><p>Le système git+issues+PR en général est incontournable comme outil de versionage, mettre le modèle sur un autre système doit être justifié.</p><p>La license permissive (par exemple MIT) est une obligation légale, sauf justification.</p><p>Les dépendances doivent elles-mêmes être open source : les outils de compilation, les outils de travail. Si une brique privée est jugée nécessaire (par ex. google spreadsheet) dans la chaine de reproduction, il faut le justfier.</p><blockquote><p>Par exemple, une dépendance au logiciel SimaPro pour les calculs d&#x27;ACV, logiciel qu&#x27;il faut acheter, n&#x27;est pas acceptable</p></blockquote><blockquote><p>Un modèle constitué d&#x27;un fichier excel (et d&#x27;une éventuelle note d&#x27;explication en .doc) peut être qualifié d&#x27;ouvert et est évidemment mieux que rien du tout (un seul chiffre sans son explication), mais il n&#x27;est pas à proprement parler open source ni versionné. Les collaborateurs se partagent un fichier modèle-déchets.34.2.xlsx pas bien versionné donc, les formules de calcul sont peu lisibles (format excel à exprimer dans le champs texte très restreint, références à des cases alphanumériques non nommées, etc), l&#x27;excel fait référence à d&#x27;autres excel qu&#x27;il faut avoir téléchargé un à un, liens potentiellement cassé si on n&#x27;a pas payé Excel, etc.</p></blockquote><h2 class="anchor anchorWithStickyNavbar_JmGV" id="reproductibles">Reproductibles<a href="#reproductibles" class="hash-link" aria-label="Direct link to Reproductibles" title="Direct link to Reproductibles">​</a></h2><p>En quelques minutes, tout développeur peut relancer et modifier les calculs sur sa machine, et tout non-développeur peut les lire et comprendre (l&#x27;édition des calculs pour les non-développeurs est un défi toujours un peu trop compliqué pour être intégré dans un premier niveau d&#x27;exigences).</p><blockquote><p>Par exemple sur un projet javascript, un <code>yarn &amp;&amp; yarn start</code> permet de compiler le code et exposer l&#x27;interface sur le Web, par exemple nosgestesclimat.fr/documentation -&gt; le calcul tourne sur ma machine, sous mes yeux.
Sur un projet python, appuyer sur &quot;Run&quot; sur un notebook <a href="https://jupyter.org" target="_blank" rel="noopener noreferrer">https://jupyter.org</a> permet de lancer le calcul et visualiser les résultats.
Javascript est une force, car il est exécutable directement dans le navigateur, mais pas requis : bcp de langages compilent en Javascript (e.g. Elm)</p></blockquote><p>La reproduction implique zéro dépendance de données privées, ou dans le cas contraire, une justification argumentée et une source secondaire publique.</p><blockquote><p>Le modèle textile d&#x27;ecobalyse est utilisable directement sans logiciel, sans license, sans création de compte sur <a href="https://ecobalyse.beta.gouv.fr/#/textile/simulator" target="_blank" rel="noopener noreferrer">https://ecobalyse.beta.gouv.fr/#/textile/simulator</a>. Son code est disponible et documenté sur github.com/MTES-MCT/ecobalyse</p></blockquote><h2 class="anchor anchorWithStickyNavbar_JmGV" id="documentés-sourcés">Documentés, sourcés<a href="#documentés-sourcés" class="hash-link" aria-label="Direct link to Documentés, sourcés" title="Direct link to Documentés, sourcés">​</a></h2><p>Les calculs (&quot;le métier&quot;, comme on dit souvent) doivent être documentés avec des sources primaires. Si pas de source primaire, il faut le dire. Si pas de source du tout, ou pas de source de confiance, il faut le dire également.</p><blockquote><p>À titre d&#x27;exemple, le fameux &quot;en réduisant votre chauffage d&#x27;un degré, on réduit la consommation d&#x27;énergie de 7%&quot; n&#x27;est pas sourcé. Sur <a href="https://nosgestesclimat.fr/documentation/logement/baisse-temp%C3%A9rature/gains-1-degr%C3%A9" target="_blank" rel="noopener noreferrer">nosgestesclimat</a>, nous avons franchement indiqué l&#x27;absence de source de qualité</p></blockquote><p>Cela permet de bien noter les limites, d&#x27;informer les futurs collaborateurs ou relecteurs : c&#x27;est une forme d&#x27;évaluation qualitative des marges d&#x27;erreur.</p><blockquote><p>Sur publicodes, les variables du calcul contiennent une formule de calcul, une <em>description</em> en texte (ce que fait cette variable) et une <em>note</em> d&#x27;implémentation qui décrit les limites connues au moment de l&#x27;implémentation, avec potentiellement une liste de tâches déjà identifiée. L&#x27;attribut &quot;références&quot; permet de lister des URL constituant des sources ou des moyens d&#x27;aller plus loin.</p></blockquote><p>La documentation doit être faite au moins partiellement sur le Web. C&#x27;est important : le Web est universel, accessible en 2 clics via une URL fixe et un minimum pérenne, contrairement à n&#x27;importe quel programme à installer ou par rapport à un fichier xlsx.</p><blockquote><p>Par exemple, tous les calculs de mon-entreprise.fr sont disponibles sur <a href="https://mon-entreprise.urssaf.fr/documentation" target="_blank" rel="noopener noreferrer">https://mon-entreprise.urssaf.fr/documentation</a>
Toute variable est exposée en ligne <a href="https://mon-entreprise.urssaf.fr/documentation/b%C3%A9n%C3%A9ficiaire/dividendes/nets" target="_blank" rel="noopener noreferrer">https://mon-entreprise.urssaf.fr/documentation/bénéficiaire/dividendes/nets</a></p></blockquote><p>Il faut pouvoir faire un lien vers un bout de donnée granulaire.</p><blockquote><p>Par exemple, on ne peut pas référencer via une URL une entrée de la Base Carbone <a href="https://bilans-ges.ademe.fr." target="_blank" rel="noopener noreferrer">https://bilans-ges.ademe.fr.</a> Ça rend les citations de cette source très compliquées.</p></blockquote><p>L&#x27;explication des calculs fait partie des obligations de l&#x27;administration, mais les exigences portées par la loi sont peu satisfaisantes : il s&#x27;agit seulement d&#x27;expliquer si quelqu&#x27;un en fait la demande</p><h2 class="anchor anchorWithStickyNavbar_JmGV" id="contributifs">Contributifs<a href="#contributifs" class="hash-link" aria-label="Direct link to Contributifs" title="Direct link to Contributifs">​</a></h2><p>Dans de nombreuses situations, des gens que nous ne connaissons pas ont des compétences plus avancées que celles que nous avons eu à disposition dans notre équipe lors de l&#x27;écriture et la relecture des modèles. Dans l&#x27;industrie ou les éditeurs de logiciels privés, dans la recherche (chercheurs en ACV), dans les administrations, etc.</p><blockquote><p>Potentiellement leur contribution n&#x27;est pas pertinente... mais ce n&#x27;est pas grave : si on est noyés sous les retours, on peut toujours les ignorer (on peut par exemple rendre le lien de contribution moins accessible pour augmenter la barrière). C&#x27;est un problème sur lequel il faut agir seulement s&#x27;il intervient.</p></blockquote><p>C&#x27;est le concept de la <strong>revue par les pairs</strong>, absolument central dans la recherche scientifique, qui doit nous inspirer et qui permet de tendre vers le moins d&#x27;erreurs possibles tout en favorisant l&#x27;évolution permantente.</p><blockquote><p>Un outil comme github propose des fonctionnalités de collaboration très poussées</p><ul><li>les PR (pull request) permettent de proposer un changement, et c&#x27;est d&#x27;ailleurs ainsi que les membres coeur de l&#x27;équipe itérent</li><li>chaque bout de code peut dans le cadre d&#x27;une PR être commenté en un clic (comme sur google docs). Ce commentaire peut être discuté, résolu. Il peut entrainer une autre PR concurrente, mettre de côté un problème dans une issue, etc.</li><li>gérer la responsabilité : les rôles de collaboration peuvent être différents, du simple lecteur, à l&#x27;administrateur, en passant par la personne qui peut proposer des changements mais pas les mettre en ligne</li></ul></blockquote><p>Bien sûr, il ne suffit pas de poster sur github un ensemble de lignes de code pour satisfaire ce point : il faut que la contribution soit raisonablement accessible. Cela passe par un fichier README, CONTRIBUTING, un Wiki, des tutoriels, éventuellement des événements de découverte, etc.</p><div class="theme-admonition theme-admonition-info alert alert--info admonition_uH4V"><div class="admonitionHeading_P5_N"><span class="admonitionIcon_MF44"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>L&#x27;importance du code source</div><div class="admonitionContent_yySL"><p>Cela fait des décennies que de nombreux développeurs tentent de trouver un moyen de remplacer le <em>code source</em> par des interfaces qui permettraient d&#x27;ouvrir la contribution au-delà des équipes de développeurs. On voit que mis à part l&#x27;interface de tableur, rien n&#x27;a vraiment émergé. On voit aussi les limites du tableur (pas de variable, mais des cases alphanumériques, qui rompent le principe de base de toute base de code bien faite : nommer les choses).</p><p>L&#x27;interface de collaboration entre les différents profils d&#x27;un projet est un point important, dépendant de chaque projet. Il faut noter que plus une interface devient puissante (permet de faire plein de chose en autonomie), plus sa prise en main ressemble à l&#x27;apprentissage du code !</p></div></div><h2 class="anchor anchorWithStickyNavbar_JmGV" id="modulaires-et-intéropérables">Modulaires et intéropérables<a href="#modulaires-et-intéropérables" class="hash-link" aria-label="Direct link to Modulaires et intéropérables" title="Direct link to Modulaires et intéropérables">​</a></h2><p>Plus un modèle est un gros blob non segmenté, moins il est utilisable par des pairs. Le temps d&#x27;apréhension d&#x27;un modèle vaste est plus important et peut décourager des réutilisateurs.</p><blockquote><p>Par exemple, nosgestesclimat est aujourd&#x27;hui un modèle assez vaste, chargé en bloc sur nosgestesclimat.fr. Nous sommes en train de travailler la modularisation pour pouvoir isoler des briques autonomes, telles que le modèle de calcul de l&#x27;empreinte carbone des déchets.</p></blockquote><p>La modularisation permet de bien spécifier les <em>responsables</em> de chaque brique.</p><p>Par exemple aujourd&#x27;hui, <a href="https://datagir.ademe.fr/" target="_blank" rel="noopener noreferrer">Datagir</a> (ADEME-Betagouv) est responsable de nosgestesclimat, Ecobalyse (MTE-Betagouv) est responsable de Ecobalyse, mais Datagir pourrait réutiliser le modèle Ecobalyse/alimentation.</p><p>Ce principe induit notamment la nécessité de versioner le code, pour que les acteurs tiers puissent faire référence à une version fixe ou faire des mises à jours automatiques selon le versionage sémantique, donc sans risquer des changements cassants.</p><p>En pratique, plus le langage et les formats de données du modèle sont standards, plus cette réutilisation est facilitée.</p><h2 class="anchor anchorWithStickyNavbar_JmGV" id="conçus-pour-un-objectif-utilisateur">Conçus pour un objectif utilisateur<a href="#conçus-pour-un-objectif-utilisateur" class="hash-link" aria-label="Direct link to Conçus pour un objectif utilisateur" title="Direct link to Conçus pour un objectif utilisateur">​</a></h2><p>Quand on conçoit un modèle, il peut être tentant de vouloir le généraliser au maximum, et ainsi dédier une équipe (qui n&#x27;est parfois qu&#x27;une personne) à ce modèle, séparée d&#x27;une autre équipe qui réalise l&#x27;interface branchée sur ce modèle.</p><p>Une telle division du travail et conceptuelle est tentante, mais se révèle souvent dans l&#x27;informatique très problématique, car on développe alors une brique logicielle en ayant perdu l&#x27;objectif premier : servir à un cas utilisateur.</p><blockquote><p>Par exemple, si l&#x27;on me demande de créer un modèle de calcul d&#x27;empreinte carbone de l&#x27;avion, je vais probablement créer un modèle qui prend en entrée les km parcourus en avion. C&#x27;est rationnel, mais très éloigné de l&#x27;utilisateur : personne n&#x27;est capable de dire combien de km fait son avion entre Paris et Rabat ! Sur nosgestesclimat, le but premier est de servir les utilisateurs, il devient alors logique qu&#x27;il faut leur demander de saisir plutôt des <em>heures</em> d&#x27;avion, à reconnecter aux km, ou implémenter une saisie d&#x27;itinéraires branchée sur des API non triviales. La charge de travail était en fait ailleurs et le modèle trop &quot;deconnecté&quot; !</p></blockquote><p>Ce biais est aussi à surveiller pour un framework d&#x27;écriture de modèles. À titre d&#x27;exemple, il n&#x27;y a pas de développeur dédié au framework publicodes : chacun contribue au framework <em>pour défendre ses intérêts</em> répondant à un usage utilisateur bien précis. L&#x27;équipe mon-entreprise l&#x27;améliore pour mon-entreprise, l&#x27;équipe mesaidesvélo pour mesaidesvélo, l&#x27;équipe nosgestesclimat pour nosgestesclimat (tout en gardant évidemment en tête que chaque contribution doit aller dans le bon sens pour une importante majorité).</p><p>Ce principe est une variation de <a href="https://en.wikipedia.org/wiki/Eating_your_own_dog_food" target="_blank" rel="noopener noreferrer">Eat your own dog food</a>.</p><p>Bref, un modèle doit toujours être accompagné d&#x27;une interface d&#x27;utilisation, même si cette interface est <a href="https://ecobalyse.beta.gouv.fr/#/textile/simulator" target="_blank" rel="noopener noreferrer">dédiée aux experts</a> (qui sont un segment utilisateur légitime), et il n&#x27;y a pas de raison a priori d&#x27;abstraire une équipe hors de l&#x27;interface.</p><h2 class="anchor anchorWithStickyNavbar_JmGV" id="communiqués">Communiqués<a href="#communiqués" class="hash-link" aria-label="Direct link to Communiqués" title="Direct link to Communiqués">​</a></h2><p>La publicité est requise. Il faut expliquer l&#x27;avancement des travaux (kanban / feuille de route publique) et des mises en ligne (notes de version, articles de blog grand public).</p><blockquote><p>Toutes les nouveautés, ou en tout cas les nouveautés notables de nosgestesclimat (site et modèle, il pourrait être intéressant de segmenter les deux) sont publiés ici nosgestesclimat.fr/nouveautés, qui n&#x27;est autre qu&#x27;un lecteur branché sur les <em>releases</em> github, inspiré de <a href="https://mon-entreprise.urssaf.fr/nouveaut%C3%A9s" target="_blank" rel="noopener noreferrer">https://mon-entreprise.urssaf.fr/nouveautés</a></p></blockquote><h2 class="anchor anchorWithStickyNavbar_JmGV" id="testés">Testés<a href="#testés" class="hash-link" aria-label="Direct link to Testés" title="Direct link to Testés">​</a></h2><p>Le sujet des tests est vaste. Souvent lorsque l&#x27;on créée un modèle, on n&#x27;a pas la référence contre laquelle confronter les résultats de nos modèles, car nous <em>sommes en train de construire la référence</em>.</p><p>Mais de nombreuses stratégies de test existent pour autant !</p><ul><li>La production de cas types d&#x27;usages et le stockage des résultats de calcul à partir de ces cas type, pour estimer à chaque changement si un écart au résultat est un problème ou pas</li><li>Le test unitaire des fonctions de calcul : s&#x27;assurer que le <em>framework</em> dans lequel est construit mon modèle est correcte. Somme, multiplication, barème, tableaux de facteurs d&#x27;émission, ces fonctions doivent être testées</li><li>L&#x27;homogénéité des formules : mon calcul d&#x27;empreinte carbone d&#x27;une vidéo en streaming, fait à partir de variables typées (heures, heures / jour, kgCO2e/heure) doit <em>in fine</em> produire la bonne unité</li><li>etc.</li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/betagouv/publicodes/edit/master/website/docs/pourquoi-publicodes/standard-modeles-ouverts.mdx" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_bHB7" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_pbO5"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/pourquoi-publicodes/introduction"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Introduction</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_XG6w thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#open-source" class="table-of-contents__link toc-highlight">Open source</a></li><li><a href="#reproductibles" class="table-of-contents__link toc-highlight">Reproductibles</a></li><li><a href="#documentés-sourcés" class="table-of-contents__link toc-highlight">Documentés, sourcés</a></li><li><a href="#contributifs" class="table-of-contents__link toc-highlight">Contributifs</a></li><li><a href="#modulaires-et-intéropérables" class="table-of-contents__link toc-highlight">Modulaires et intéropérables</a></li><li><a href="#conçus-pour-un-objectif-utilisateur" class="table-of-contents__link toc-highlight">Conçus pour un objectif utilisateur</a></li><li><a href="#communiqués" class="table-of-contents__link toc-highlight">Communiqués</a></li><li><a href="#testés" class="table-of-contents__link toc-highlight">Testés</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">À propos</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/statistiques">Statistiques de consultation</a></li></ul></div></div></div></footer></div>
<script src="/assets/js/runtime~main.62046643.js"></script>
<script src="/assets/js/main.24185eff.js"></script>
</body>
</html>